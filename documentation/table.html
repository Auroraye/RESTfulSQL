<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Table</title>
    <link rel="stylesheet" type="text/css" href="document-style.css">
</head>
<body>
    <main>
        <div class="block-one">
            <h1>Table</h1>
            <div class="class-description">
                <p>This model is designed for direct modification on tables.</p>
                <p>The GET method in this model is to query the structural information of a specified table. The POST
                    method in this model is to create a plain new table with specified columns. The UPDATE method in
                    this model is to delete or inter a new column into a specified table. The DELETE method in this
                    model is to delete a whole table from the database.</p>
                <p>If you are looking for functions to modify the data in a table, please go to <a>here</a>.</p>
            </div>
        </div>
        <hr/>
        <div class="block-two">
            <h3>All Methods</h3>
            <table class="list-table">
                <thead><td>Method</td><td>Parameters</td><td>Returns</td></thead>
                <tbody class="list-tbody">
                    <tr>
                        <td><a href="#get">GET</a></td>
                        <td>table(string) </td>
                        <td>field(string), type(string), null(boolean), key(string), default(string), extra(string)</td>
                    </tr>
                    <tr>
                        <td><a href="#post">POST</a></td>
                        <td>table(string), column(array), unique(array)</td>
                        <td>success(string)</td>
                    </tr>
                    <tr>
                        <td><a href="#update">UPDATE</a></td>
                        <td>table(string), column(array), operation(array)</td>
                        <td>success(string)</td>
                    </tr>
                    <tr>
                        <td><a href="#delete">DELETE</a></td>
                        <td>table(string)</td>
                        <td>success(string)</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <hr/>
        <div class="block-tree">
            <ul>
                <il id="get">
                    <h3>GET</h3>
                    <div class="function-description">
                        <p>This GET takes a table name and returns an array of information about each column in that
                            table. The most important value in the returns are the column name and the type of the column.
                            Additionally, there are some other information, such as if the column allows null value, the
                            default value of that column if any, if the column is a key of this table, and an extra
                            information which is rarely used. The return values are in form of an array, and each element
                            in the array contains the information listed above, and the length of the array is determined
                            by how many columns is in the table.</p>
                        <p>Usually, this method is used after <a>info.GET</a> had been called, in which the info.GET
                            returns what tables are in the database. As all existing tables are listed by the info.GET,
                            it can prohibit the "Table Not Found" error by querying a table with a wrong name.</p>
                        <p>Once the information about the table is gotten, these information can be used for further
                            modification on the table or the data in the data. For modify the table, please check <a>here</a>;
                            for modify columns, please check <a>here</a>; for modify rows or data, please check <a>here</a>.</p>
                    </div>
                    <div>
                        <h5>Parameters</h5>
                        <table>
                            <tr>
                                <td class="parameter">table(string)</td>
                                <td class="parameter-description">the name of table to be queried.</td>
                            </tr>
                        </table>
                        <h5>Returns</h5>
                        <table>
                            <tr>
                                <td class="return">field(string)</td>
                                <td class="return-description">the name of a column</td>
                            </tr>
                            <tr>
                                <td class="return">type(string)</td>
                                <td class="return-description">the data type of the column</td>
                            </tr>
                            <tr>
                                <td class="return">null(boolean)</td>
                                <td class="return-description">if the column allows null value; true for allowing null
                                    value, and false for not allowing null value</td>
                            </tr>
                            <tr>
                                <td class="return">key(string)</td>
                                <td class="return-description">if the column is a key of the table, if so, it contains the
                                    type of the key; if not, it is empty</td>
                            </tr>
                            <tr>
                                <td class="return">default(string)</td>
                                <td class="return-description">the default value of the column, and the default value of
                                    this return is "Null"</td>
                            </tr>
                            <tr>
                                <td class="return">extra(string)</td>
                                <td class="return-description">any extra information about the column</td>
                            </tr>
                        </table>
                        <h5>Errors</h5>
                        <table>
                            <tr>
                                <td class="error">Invalid Argument</td>
                                <td class="error-description">when there is no value or multiple values for the table parameter</td>
                            </tr>
                            <tr>
                                <td class="error">Table Not Found</td>
                                <td class="error-description">when there is no such table with the specified table name</td>
                            </tr>
                            <tr>
                                <td class="error"></td>
                                <td class="error-description"></td>
                            </tr>
                        </table>
                        <h5>Examples</h5>
                        <table>
                            <tr>
                                <td class="sql">describe table_name</td>
                                <td class="parameter-value">table=table_name</td>
                            </tr>
                        </table>
                    </div>
                </il>
                <hr/>
                <il id="post">
                    <h3>POST</h3>
                    <div class="function-description">
                        <p>This POST method takes the basic information to create a new table.</p>
                        <p>The parameters of this method are: table, the name for the new table; column, an array of
                            the names of columns for the new table; unique, an array of keys for the new table. The value
                            of table must be one and unique in the database, otherwise there would be error triggered. The
                            array of column must have at least one element. The unique parameter could be empty, but it
                            all its value must be included by the column also, otherwise there would be error triggered.</p>
                        <p>For the array typed parameter, the delimiter of each element is a comma ",". For example, a
                            valid value for column could be: column=c1,c2,c3,c4. In this case, there will be four columns
                            created for the table, and they are called "c1", "c2", "c3", and "c4". It is the same for the
                            unique. Moreover, for composite key, parentheses are taking place to group the elements of a
                            composite key. For example, a valid value for unique could be: unique=c1,(c2,c4). In this case,
                            the column "c1" will be created as a single unique key, and the combination of column "c2"
                            and "c4" will be created as a composite unique key.</p>
                        <p>As default, there are some values set for the newly created table. The type of each column is
                            varchar(200) as default, and all column a nullable without default value. To change these setting,
                            please check <a>here</a>. To set all these setting at creation stage, please check <a>here</a>.</p>
                        <p>The return value is the success of this creation.</p>
                    </div>
                    <div>
                        <h5>Parameters</h5>
                        <table>
                            <tr>
                                <td class="parameter">table(string)</td>
                                <td class="parameter-description">the name of the table to be created</td>
                            </tr>
                            <tr>
                                <td class="parameter">column(array)</td>
                                <td class="parameter-description">the array of the columns of the table to be created</td>
                            </tr>
                            <tr>
                                <td class="parameter">unique(array)</td>
                                <td class="parameter-description">the array of the keys of the table to be created</td>
                            </tr>
                        </table>
                        <h5>Returns</h5>
                        <table>
                            <tr>
                                <td class="return">success(string)</td>
                                <td class="return-description">telling if the creation successes or fails</td>
                            </tr>
                        </table>
                        <h5>Errors</h5>
                        <table>
                            <tr>
                                <td class="error">Invalid Argument</td>
                                <td class="error-description">when there is no value or multiple values for table</td>
                            </tr>
                            <tr>
                                <td class="error">Duplicate Table</td>
                                <td class="error-description">when there already is a table with the specified name</td>
                            </tr>
                            <tr>
                                <td class="error">Duplicate Column</td>
                                <td class="error-description">when there are two or more columns have the same name</td>
                            </tr>
                            <tr>
                                <td class="error">Unknown Key</td>
                                <td class="error-description">when there is one or more elements in unique that is not in column</td>
                            </tr>
                        </table>
                        <h5>Examples</h5>
                        <table>
                            <tr>
                                <td class="sql"></td>
                                <td class="parameter-value"></td>
                            </tr>
                        </table>
                    </div>
                </il>
                <hr/>
                <il id="update">
                    <h3>UPDATE</h3>
                    <div class="function-description">
                        <p>This UPDATE method is designed for drop or insert new columns to the specified table. There are
                            three parameters for this method: table, the name of the table to be modified; column, an array
                            of columns to be added or dropped from the table; operation, an array of "0" or "1" to specify
                            what operation to apply to the corresponding column in the column parameter. Therefore, this
                            method requires an one-to-one relation between the column parameter and the operation parameter,
                            and the corresponding value in the operation parameter would determine what to do with the
                            corresponding column. And, for the value of operation parameter, "0" is for dropping the column,
                            and "1" is for inserting the column. Therefore, the following would be a valid example:</p>
                        <p>column=c1,c2,c5,c6&operation=0,0,1,1</p>
                        <p>In this case, the method will drop two columns, "c1" and "c2", and the method will also insert
                            two columns, "c5" and "c6". One more thing about the insertion is that, all inserted column
                            would be inserted at the end of the table, and there is currently no support to specify the
                            position to insert the column.</p>
                        <p>For the mechanism, there are some special cases, and it is necessary to clarify the behavior
                            of this method. There are two big cases: a column name only appears once in the column parameter,
                            and a column name appears more than once in the column parameter.</p>
                        <p>For the first case, there are four small cases.
                            <ol>
                                <li>If the column is marked as insert, and there is no column having this name in the
                                    table, then the column is inserted.</li>
                                <li>If the column is marked as insert, and there is a column having this name in the
                                    table, then error is raised.</li>
                                <li>If the column is marked as drop, and there is no column having this name in the table,
                                    then error is raised.</li>
                                <li>If the column is marked as drop, and there is a column having this name in the table,
                                    then the column is dropped.</li>
                            </ol>
                        </p>
                        <p>For the second case, there are five cases.
                            <ol>
                                <li>If the first appearance of the column is marked as insert, and the second is marked
                                    as drop, and there is no column having this name in the table, then no change will
                                    be apply to the table.</li>
                                <li>If the first appearance of the column is marked as insert, and the second is marked
                                    as drop, and there is a column having this name in the table, then error is raised.</li>
                                <li>If the first appearance of the column is marked as drop,  and the second is marked
                                    as insert, and there is no column having this name in the table, then error is raised.</li>
                                <li>If the first appearance of the column is marked as drop, and the second is marked as
                                    insert, and there is a column having this name in the table, then the column is dropped,
                                    and a new column with the same name is inserted.</li>
                                <li>If the situation is not listed above, then error is raised.</li>
                            </ol>
                        </p>
                        <p>For updating the property of a column, please see <a>here</a>. For updating the data record,
                            please see <a>here</a>.</p>
                    </div>
                    <div>
                        <h5>Parameters</h5>
                        <table>
                            <tr>
                                <td class="parameter">table(string)</td>
                                <td class="parameter-description">the name of the table to be modified</td>
                            </tr>
                            <tr>
                                <td class="parameter">column(array)</td>
                                <td class="parameter-description">the array of all the columns to be inserted or dropped</td>
                            </tr>
                            <tr>
                                <td class="parameter">operation(array)</td>
                                <td class="parameter-description">the array of all the operations for the columns</td>
                            </tr>
                        </table>
                        <h5>Returns</h5>
                        <table>
                            <tr>
                                <td class="return">success(string)</td>
                                <td class="return-description">telling if the update successes or fails</td>
                            </tr>
                        </table>
                        <h5>Errors</h5>
                        <table>
                            <tr>
                                <td class="error">Invalid Argument</td>
                                <td class="error-description">when there is no value or multiple values for the table parameter</td>
                            </tr>
                            <tr>
                                <td class="error">Table Not Found</td>
                                <td class="error-description">when there is no such table with the specified table name</td>
                            </tr>
                            <tr>
                                <td class="error">Unmatched Column And Operation</td>
                                <td class="error-description">when the length of columns is different from the length of operations</td>
                            </tr>
                            <tr>
                                <td class="error">Inserting Duplicate Column</td>
                                <td class="error-description">when operating insertion of a column and there is a column
                                    having the same name in the table</td>
                            </tr>
                            <tr>
                                <td class="error">Dropping Unknown Column</td>
                                <td class="error-description">when operation dropping of a column and there is no column
                                    having the same name in the table</td>
                            </tr><tr>
                                <td class="error">Too Many Appearance of Name</td>
                                <td class="error-description">when encounter the case 2.5 stated in the description section</td>
                            </tr>
                        </table>
                        <h5>Examples</h5>
                        <table>
                            <tr>
                                <td class="sql"></td>
                                <td class="parameter-value"></td>
                            </tr>
                        </table>
                    </div>
                </il>
                <hr/>
                <il id="delete">
                    <h3>DELETE</h3>
                    <div class="function-description">
                        This DELETE method simply takes the name of a table, and deletes that table from the database.
                    </div>
                    <div>
                        <h5>Parameters</h5>
                        <table>
                            <tr>
                                <td class="parameter">table(string)</td>
                                <td class="parameter-description">the name of the table to be deleted</td>
                            </tr>
                        </table>
                        <h5>Returns</h5>
                        <table>
                            <tr>
                                <td class="return">success(string)</td>
                                <td class="return-description">telling if the deletion successes or fails</td>
                            </tr>
                        </table>
                        <h5>Errors</h5>
                        <table>
                            <tr>
                                <tr>
                                <td class="error">Invalid Argument</td>
                                <td class="error-description">when there is no value or multiple values for the table parameter</td>
                            </tr>
                            <tr>
                                <td class="error">Table Not Found</td>
                                <td class="error-description">when there is no such table with the specified table name</td>
                            </tr>
                            </tr>
                        </table>
                        <h5>Examples</h5>
                        <table>
                            <tr>
                                <td class="sql"></td>
                                <td class="parameter-value"></td>
                            </tr>
                        </table>
                    </div>
                </il>
            </ul>
        </div>
    </main>


</body>
</html>